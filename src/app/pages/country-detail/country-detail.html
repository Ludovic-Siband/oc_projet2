<div class="country page">
  @if (isLoading()) {
    <div class="country__loading">
      Loading country data...
    </div>
  }

  <div class="page__chart">
    @if (chartYears().length > 0) {
      <app-line-chart
        [labels]="chartYears()"
        [values]="chartMedals()"
        datasetLabel="Medals per year"
        aria-label="Medals by country pie chart"
      />
    } @else {
      <p class="country__no-data">
        No participation data available for this country.
      </p>
    }
  </div>

  @if (participationTable().length > 0) {
    <table class="sr-only-table">
      <caption>Participation details for {{ titlePage() }}</caption>
      <thead>
        <tr>
          <th scope="col">Year</th>
          <th scope="col">Medals</th>
          <th scope="col">Athletes</th>
        </tr>
      </thead>
      <tbody>
        @for (row of participationTable(); track row.year) {
          <tr>
            <td>{{ row.year }}</td>
            <td>{{ row.medals }}</td>
            <td>{{ row.athletes }}</td>
          </tr>
        }
      </tbody>
    </table>
  }

  <div class="page__return-home">
    <button type="button" (click)="onBackToHome()">
      Return to home
    </button>
  </div>
</div>
